<!DOCTYPE html>
<html lang="hr">
<head>
    <title>Admin</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="IG PROG, vl. Igor Gašparović">
    <link href="../assets/css/vendor/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/vendor/angular-material.min.css">
    <!--<link rel="stylesheet" type="text/css" href="../assets/css/vendor/jquery.floating-social-share.min.css" />-->
    <link href="../assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
    <script src="assets/js/vendor/jquery.min.js"></script>
    <script src="../assets/js/vendor/popper.min.js"></script>
    <script src="../assets/js/vendor/bootstrap.min.js"></script>
    <script src="../assets/js/vendor/angular.min.js"></script>
    <script src="../assets/js/vendor/angular-animate.min.js"></script>
    <script src="../assets/js/vendor/angular-aria.min.js"></script>
    <script src="../assets/js/vendor/angular-material.min.js"></script>
    <!--<script src="../assets/js/vendor/angular-ui-router.min.js"></script>-->
    <!--<script src="assets/js/vendor/aui-min.js"></script>
    <script src="assets/js/vendor/moment.js"></script>
    <script src="assets/js/vendor/ui-scheduler-event-recorder.js"></script>-->
    <script src="../assets/js/vendor/angular-translate.min.js"></script>
    <script src="../assets/js/vendor/angular-translate-loader-partial.min.js"></script>
    <script src="assets/js/vendor/ngStorage.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Encode Sans Expanded' rel='stylesheet'>
    <link rel="icon" type="image/x-icon" href="/favicon.ico?v=2" />
    <style>
         body {
             color: #000;
             background: #fff;
        }
    </style>
</head>
<body id="home" ng-app="admin" ng-controller="adminCtrl" data-spy="scroll" data-target=".navbar" data-offset="60" ng-cloak>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <a href="index.html" target="_blank" title="{{config.sitename}}">
            <img src="../assets/img/logo/logo.png" style="height:50px" alt="{{config.sitename}}" />
            <!--<label class="text-primary font-beauty" style="font-size:20px">DIZAJN 911</label>-->
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon">
                <i class="fas fa-bars" style="color:#fff; font-size:28px;"></i>
            </span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html" title="naslovna"><i class="fa fa-home"></i> Naslovna</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('info')">Informacije</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('banners')">Baneri</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="grupe proizvoda" ng-click="toggleTpl('productGroups')">Grupe Proizvoda</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="brendovi" ng-click="toggleTpl('brands')">Brendovi (proizvođači)</a>
                </li>
                <!--<li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="opcije" ng-click="toggleTpl('options')">Opcije</a>
                </li>-->
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="značajke" ng-click="toggleTpl('features')">Značajke proizvoda</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="značajke" ng-click="toggleTpl('colors')">Boje</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="proizvodi" ng-click="toggleTpl('products')">Proizvodi</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('reviews')">Recenzije</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('orders')">Narudžbe</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('countries')">Države</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('orderoptions')">Opcije narudžbe</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item d-sm-block d-md-none">
                    <a class="nav-link" href="" title="info" ng-click="toggleTpl('subscribers')">Pretplatnici</a>
                </li>
                <li ng-if="d.isLogin" class="nav-item">
                    <a class="nav-link" href="" title="odjava" ng-click="f.logout()"><i class="fa fa-sign-out-alt"></i> Odjava</a>
                </li>
            </ul>
        </div>
    </nav>

    <!--<ui-view autoscroll="true"></ui-view>-->


    <div ng-if="!d.isLogin">
        <ng-include src="tpl"></ng-include>
    </div>

    <div ng-if="d.isLogin" class="row" id="body-row">
        <div id="sidebar-container" class="sidebar-expanded d-none d-sm-block bg-light">
            <ul class="list-group" style="padding-top:100px">
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('info')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-info-circle fa-fw mr-3"></span>
                        <span class="menu-collapsed">Informacije</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('banners')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-image  fa-fw mr-3"></span>
                        <span class="menu-collapsed">Baneri</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('productGroups')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-layer-group fa-fw mr-3"></span>
                        <span class="menu-collapsed">Grupe proizvoda</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('brands')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-industry fa-fw mr-3"></span>
                        <span class="menu-collapsed">Brendovi (proizvođači)</span>
                    </a>
                </li>
                <!--<li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('options')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-filter fa-fw mr-3"></span>
                        <span class="menu-collapsed">Opcije</span>
                    </a>
                </li>-->
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('features')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-align-left fa-fw mr-3"></span>
                        <span class="menu-collapsed">Značajke proizvoda</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('colors')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-paint-brush fa-fw mr-3"></span>
                        <span class="menu-collapsed">Boje</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('products')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-edit fa-fw mr-3"></span>
                        <span class="menu-collapsed">Proizvodi</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('reviews')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-star fa-fw mr-3"></span>
                        <span class="menu-collapsed">Recenzije</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('orders')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-comment-dollar fa-fw mr-3"></span>
                        <span class="menu-collapsed">Narudžbe</span>
                    </a>
                </li>
                <li>
                    <!--<span class="fa fa-cogs fa-fw mr-3"></span>
                    <span class="menu-collapsed">Postavke</span>-->
                    <hr />
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('countries')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-globe fa-fw mr-3"></span>
                        <span class="menu-collapsed">Države</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('orderoptions')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-shopping-basket fa-fw mr-3"></span>
                        <span class="menu-collapsed">Opcije narudžbe</span>
                    </a>
                </li>
                <li data-toggle="collapse" aria-expanded="false" class="list-group-item list-group-item-action flex-column align-items-start" ng-click="toggleTpl('subscribers')">
                    <a class="d-flex w-100 justify-content-start align-items-center text-dark">
                        <span class="fa fa-paper-plane fa-fw mr-3"></span>
                        <span class="menu-collapsed">Pretplatnici</span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="col bg-light" style="padding:100px 0 50px 0">
            <div style="min-height:50px">
                <ng-include src="tpl"></ng-include>
            </div>
        </div>
    </div>

    <script type="text/ng-template" id="login">
        <div class="container">
            <div ng-if="!d.isLogin" class="row justify-content-center" style="padding-top:160px">
                <div class="col-sm-6 shadow p-5" style="border:solid 1px #fff; border-radius:10px;">
                    <h2>Prijava</h2>
                    <form id="loginform">
                        <div class="form-group">
                            <label for="username">Korisničko ime:</label>
                            <input ng-model="d.admin.userName" type="text" class="form-control" name="username">
                        </div>
                        <div class="form-group">
                            <label for="pwd">Lozinka:</label>
                            <input ng-model="d.admin.password" type="password" class="form-control" name="password" placeholder="lozinka">
                        </div>
                    </form>
                    <div class="text-right">
                        <button type="submit" form="loginform" ng-click="f.login(d.admin)" class="btn btn-default"><span class="fa fa-unlock-altfa fa-key" aria-hidden="true"></span> <span class="text-capitalize">Prijava</span></button>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="info">
        <div ng-if="d.isLogin" ng-controller="infoCtrl">
            <form id="infoform">
                <div class="card shadow m-3">
                    <div class="card-header">
                        <h2>Informacije</h2>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="company">Tvrtka:</label>
                                    <input ng-model="d.company" class="form-control" name="company">
                                </div>
                                <div class="form-group">
                                    <label for="address">Adresa:</label>
                                    <input ng-model="d.address" class="form-control" name="address" placeholder="Ulica i broj i grad">
                                </div>
                                <div class="form-group">
                                    <label for="country">Država:</label>
                                    <input ng-model="d.country" class="form-control" name="country" placeholder="Država">
                                </div>
                                <div class="form-group">
                                    <label for="pin">OIB:</label>
                                    <input ng-model="d.pin" class="form-control" name="pin">
                                </div>
                                <div class="form-group">
                                    <label for="firstName">Ime:</label>
                                    <input ng-model="d.firstName" class="form-control" name="firstName">
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Prezime:</label>
                                    <input ng-model="d.lastName" class="form-control" name="lastName">
                                </div>
                                <div class="form-group">
                                    <label for="phone">Telefon:</label>
                                    <input ng-model="d.phone" class="form-control" name="phone">
                                </div>
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input ng-model="d.email" class="form-control" name="email">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="services">Usluge:</label>
                                    <textarea ng-model="d.services" class="form-control" name="services" rows="10"></textarea>
                                    <tran-btn ng-click="f.openTranPopup(d.services, 'services')"></tran-btn>
                                </div>
                                <div class="form-group">
                                    <label for="about">O nama:</label>
                                    <textarea ng-model="d.about" class="form-control" name="about" rows="10"></textarea>
                                    <tran-btn ng-click="f.openTranPopup(d.about, 'about')"></tran-btn>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <label class="text-success">Informacije o računu</label>
                                <hr class="mt-0" />
                                <div class="form-group">
                                    <label for="recipient">Primatelj:</label>
                                    <input ng-model="d.paymentDetails.recipient" class="form-control" name="recipient" />
                                </div>
                                <div class="form-group">
                                    <label for="iban">IBAN:</label>
                                    <input ng-model="d.paymentDetails.iban" class="form-control" name="iban" />
                                </div>
                                <div class="form-group">
                                    <label for="swift">SWIFT:</label>
                                    <input ng-model="d.paymentDetails.swift" class="form-control" name="swift" />
                                </div>
                                <div class="form-group">
                                    <label for="bank">Banka:</label>
                                    <input ng-model="d.paymentDetails.bank" class="form-control" name="bank" />
                                </div>
                                <div class="form-group">
                                    <label for="bankAddress">Adresa banke:</label>
                                    <input ng-model="d.paymentDetails.bankAddress" class="form-control" name="bankAddress" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <label class="text-success">Izdvojena grupa proizvoda</label>
                                <hr class="mt-0" />
                                <div class="form-group">
                                    <label for="pg">Grupa Proizvoda:</label>

                                    <div class="dropdown">
                                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                                            Grupa proizvoda: {{d.specialProductGroup}}
                                            <i class="fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                                        </button>
                                        <ul class="dropdown-menu p-2">
                                            <li ng-repeat="x in productGroups">
                                                <a href="" ng-click="f.setSepcialProductGroup(x)"><strong>{{x.title}}</strong></a>
                                                <ul>
                                                    <li ng-repeat="y in x.subGroups track by $index"><a href="" ng-click="f.setSepcialProductGroup(y)"><em class="pl-2">{{y.title}}</em></a></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <label class="text-success">Društvene mreže</label>
                                <hr class="mt-0" />
                                <div class="form-group">
                                    <label for="facebook">Facebook:</label>
                                    <input ng-model="d.social.facebook" class="form-control" name="facebook" placeholder="https://www.facebook.com/...">
                                </div>
                                <div class="form-group">
                                    <label for="instagram">Instagram:</label>
                                    <input ng-model="d.social.instagram" class="form-control" name="instagram" placeholder="https://www.instagram.com/...">
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <button type="submit" form="infoform" ng-click="f.save(d)" class="btn btn-outline-success"><i class="fa fa-save" aria-hidden="true"></i> Spremi</button>
                        </div>
                    </div>
                </div>
            </form>
            <!--<div class="row">
                <div class="col-lg-12">
                    <div class="card shadow m-3">
                        <div class="card-header">
                            <h2>Glavne slike</h2>
                        </div>
                        <div class="card-body">
                            <upload-directive id="'01'" img="'01.jpg'"></upload-directive>
                            <upload-directive id="'02'" img="'02.jpg'"></upload-directive>
                            <upload-directive id="'03'" img="'03.jpg'"></upload-directive>
                            <upload-directive id="'04'" img="'04.jpg'"></upload-directive>
                            <upload-directive id="'05'" img="'05.jpg'"></upload-directive>
                        </div>
                    </div>
                </div>
            </div>-->
        </div>
    </script>

    <script type="text/ng-template" id="banners">
        <div ng-if="d.isLogin" ng-controller="bannersCtrl">
            <h2 class="ml-3">Baneri</h2>
            <div class="row">
                <div ng-repeat="x in d.records track by $index" class="col-lg-12">
                    <div class="card shadow m-3">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-sm-6">
                                    Baner br. {{$index+1}}
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div>
                                <img class="img-thumbnail" src="../upload/{{d.imgFolder}}/{{x.img}}" alt="{{x.img}}" style="height:80px">
                            </div>
                            <div>
                                <form id="formUpload_{{$index}}" ng-submit="f.upload(x, $index)" enctype="multipart/form-data" method="post">
                                    <input id="imgFolder" name="imgFolder" ng-model="d.imgFolder" type="text" hidden="hidden">
                                    <div class="row">
                                        <div class="col-sm-8">
                                            <input ng-model="file" name="UploadedFile" id="UploadedFile" type="file" accept="image/*" class="form-control">
                                        </div>
                                        <div class="col-sm-4">
                                            <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="row pt-2">
                                <div class="col-sm-2">
                                    <div class="form-group">
                                        <label>Redoslijed:</label>
                                        <input ng-model="x.order" type="number" class="form-control">
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <input id="isactive_{{$index}}" type="checkbox" ng-model="x.isactive" title="Aktivan" class="m-2" /> <label for="isactive_{{$index}}">Aktivan</label>
                                </div>
                                <div class="col-sm-6 text-right">
                                    <button ng-click="f.remove(x)" class="btn btn-outline-danger pull-right"><i class="fa fa-trash-alt"></i> Briši</button>
                                    <button ng-click="f.save(x)" type="submit" class="btn btn-outline-success"><i class="fa fa-save"></i> Spremi</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <button ng-click="f.init()" class="btn btn-outline-primary m-3"><i class="fa fa-plus"></i> Novi baner</button>
            </div>
            <div></div>

            <!--<div ng-if="x.id">
                <label>Banner</label>
                <div>
                    <img class="img-thumbnail" src="../upload/{{d.imgFolder}}/{{x.img}}" alt="{{x.img}}" style="height:80px">
                </div>
                <form id="formUpload_{{x.id}}" ng-submit="f.upload(x, $index)" enctype="multipart/form-data" method="post">
                    <input id="imgFolder" name="imgFolder" ng-model="d.imgFolder" type="text" hidden="hidden">
                    <div class="row">
                        <div class="col-sm-8">
                            <input ng-model="file" name="UploadedFile" id="UploadedFile" type="file" accept="image/*" class="form-control">
                        </div>
                        <div class="col-sm-4">
                            <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                        </div>
                    </div>
                </form>
            </div>-->
            <json-directive data="d" desc="'d'" debug="true"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="productGroups">
        <div ng-if="d.isLogin" ng-controller="productGroupsCtrl">
            <loading-directive loadingtitle="'Učitavanje...'" value="d.loading" size="5"></loading-directive>
            <h2 class="ml-3">Grupe proizvoda</h2>
            <div class="row">
                <div ng-repeat="x in d.records track by $index" class="col-lg-12">
                    <div class="card shadow m-3">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-sm-6">
                                    Grupa br. {{$index+1}}
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div ng-if="d.records.length>0&&!d.loading">
                                <div>
                                    <div class="row">
                                        <div class="col-sm-6 form-group">
                                            <label>Naziv:</label>
                                            <input ng-model="x.title" type="text" class="form-control" maxlength="200" ng-change="f.initCodeName(x)">
                                        </div>
                                        <div class="col-sm-4 form-group">
                                            <label>Kod:</label>
                                            <input ng-model="x.code" type="text" class="form-control bg-light" maxlength="30">
                                        </div>
                                        <div class="col-sm-2 form-group">
                                            <label>Redoslijed:</label>
                                            <input ng-model="x.order" type="number" class="form-control" maxlength="30">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Opis:</label>
                                        <textarea ng-model="x.desc" rows="4" class="form-control" maxlength="4000"></textarea>
                                        <tran-btn ng-click="f.openTranPopup(x, 'productGroupDesc')"></tran-btn>
                                    </div>
                                    <!--<div ng-if="x.id">
                                        <label>Slika</label>
                                        <div>
                                            <img class="img-thumbnail" src="../upload/{{d.imgFolder}}/{{x.img}}" alt="{{x.img}}" style="height:80px">
                                        </div>
                                        <form id="formUpload_{{x.id}}" ng-submit="f.upload(x, $index)" enctype="multipart/form-data" method="post">
                                            <input id="imgFolder" name="imgFolder" ng-model="d.imgFolder" type="text" hidden="hidden">
                                            <div class="row">
                                                <div class="col-sm-8">
                                                    <input ng-model="file" name="UploadedFile" id="UploadedFile" type="file" accept="image/*" class="form-control">
                                                </div>
                                                <div class="col-sm-4">
                                                    <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>-->
                                    <div class="row">
                                        <div class="col-sm-4 form-group">
                                            <label>Popust (%):</label>
                                            <input ng-model="x.discount.perc" type="text" class="form-control" maxlength="30">
                                        </div>
                                        <div class="col-sm-4 form-group">
                                            <label>Od:</label>
                                            <input ng-model="x.discount.from" type="date" class="form-control">
                                        </div>
                                        <div class="col-sm-4 form-group">
                                            <label>Do:</label>
                                            <input ng-model="x.discount.to" type="date" class="form-control">
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <button ng-disabled="d.adminType==='admin'" ng-click="f.remove(x)" class="btn btn-outline-danger pull-right"><i class="fa fa-trash-alt"></i> Briši</button>
                                        <button ng-click="f.save(x)" type="submit" class="btn btn-outline-success"><i class="fa fa-save"></i> Spremi</button>
                                    </div>
                                </div>
                                <div class="card mt-2">
                                    <div class="card-header" data-toggle="collapse" data-target="#sg_{{$index}}">
                                        Podgrupe proizvoda
                                        <i class="float-right fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                                    </div>
                                    <div id="sg_{{$index}}" class="card-body collapse">
                                        <div ng-repeat="y in x.subGroups track by $index">
                                            <div class="card mt-3">
                                                <div class="card-header">
                                                    <div class="row">
                                                        <div class="col-sm-6">
                                                            Pod grupa br. {{$index+1}}
                                                        </div>
                                                        <div class="col-sm-6 text-right">
                                                            <button ng-disabled="d.adminType==='admin'" ng-click="f.remove(y)" class="btn btn-outline-danger pull-right"><i class="fa fa-trash-alt"></i> Briši</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div>
                                                        <div class="row">
                                                            <div class="col-sm-6 form-group">
                                                                <label>Naziv:</label>
                                                                <input ng-model="y.title" type="text" class="form-control" maxlength="200" ng-change="f.initCodeName(y)">
                                                            </div>
                                                            <div class="col-sm-4 form-group">
                                                                <label>Kod:</label>
                                                                <input ng-model="y.code" type="text" class="form-control" maxlength="30">
                                                            </div>
                                                            <div class="col-sm-2 form-group">
                                                                <label>Redoslijed:</label>
                                                                <input ng-model="y.order" type="number" class="form-control" maxlength="30">
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-4 form-group">
                                                                <label>Popust (%):</label>
                                                                <input ng-model="y.discount.perc" type="text" class="form-control" maxlength="30">
                                                            </div>
                                                            <div class="col-sm-4 form-group">
                                                                <label>Od:</label>
                                                                <input ng-model="y.discount.from" type="date" class="form-control">
                                                            </div>
                                                            <div class="col-sm-4 form-group">
                                                                <label>Do:</label>
                                                                <input ng-model="y.discount.to" type="date" class="form-control">
                                                            </div>
                                                        </div>
                                                        <div ng-if="y.id">
                                                            <label>Slika</label>
                                                            <img class="img-thumbnail" src="../upload/{{d.imgFolder}}/{{y.img}}" alt="{{y.img}}" style="height:80px">
                                                            <form id="formUpload_{{y.id}}" ng-submit="f.upload(y, $index)" enctype="multipart/form-data" method="post">
                                                                <input id="imgFolder" name="imgFolder" ng-model="d.imgFolder" type="text" hidden="hidden">
                                                                <div class="row">
                                                                    <div class="col-sm-8">
                                                                        <input ng-model="file" name="UploadedFile" id="UploadedFile" type="file" accept="image/*" class="form-control">
                                                                    </div>
                                                                    <div class="col-sm-4">
                                                                        <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                                                                    </div>
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="text-right">
                                                            <button ng-click="f.saveSubGroup(y)" type="submit" class="btn btn-outline-success"><i class="fa fa-save"></i> Spremi</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-outline-primary m-3" ng-click="f.initSubGroup(x)"><i class="fa fa-plus"></i> Nova podgrupu</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <button ng-disabled="d.adminType==='admin'" ng-click="f.init()" class="btn btn-outline-primary m-3"><i class="fa fa-plus"></i> Nova grupa</button>
            </div>
            <json-directive data="d" desc="'d'" debug="true"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="brands">
        <div ng-if="d.isLogin" ng-controller="brandsCtrl">
            <loading-directive loadingtitle="'Učitavanje...'" value="d.loading" size="5"></loading-directive>
            <h2 class="ml-3">Brendovi (proizvođači)</h2>
            <div class="row">
                <div ng-repeat="x in d.records track by $index" class="col-lg-4">
                    <div class="card shadow m-3">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-sm-6">
                                    Brend br. {{$index+1}}
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <div ng-if="d.records.length>0&&!d.loading">
                                <form>
                                    <div class="form-group">
                                        <label>Naziv:</label>
                                        <input ng-model="x.title" type="text" class="form-control" maxlength="200" ng-change="f.initCodeName(x)">
                                    </div>
                                    <div class="row">
                                        <div class="col-sm-6 form-group">
                                            <label>Kod:</label>
                                            <input ng-model="x.code" type="text" class="form-control bg-light" maxlength="30">
                                        </div>
                                        <div class="col-sm-6 form-group">
                                            <label>Redosljed:</label>
                                            <input ng-model="x.order" type="number" class="form-control" maxlength="30">
                                        </div>
                                    </div>
                                    
                                    <div class="text-right">
                                        <button ng-disabled="d.adminType==='admin'" ng-click="f.remove(x)" class="btn btn-outline-danger pull-right"><i class="fa fa-trash-alt"></i> Briši</button>
                                        <button ng-click="f.save(x)" type="submit" class="btn btn-outline-success"><i class="fa fa-save"></i> Spremi</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <button ng-disabled="d.adminType==='admin'" ng-click="f.init()" class="btn btn-outline-primary m-3"><i class="fa fa-plus"></i> Novi brend</button>
            </div>
            <json-directive data="d" desc="'d'" debug="true"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="features">
        <div ng-if="d.isLogin" ng-controller="featuresCtrl">
            <loading-directive loadingtitle="'Učitavanje...'" value="d.loading" size="5"></loading-directive>
            <div class="card shadow m-3">
                <div class="card-header">
                    <h2>Opcije</h2>
                </div>
                <div class="card-body">
                    <form>
                        <div class="table-responsive">
                            <table class="table table-condensed">
                                <tr>
                                    <th style="width:30px"></th>
                                    <th style="width:200px">Kod</th>
                                    <th style="width:200px">Naziv</th>
                                    <th style="width:200px">Opis (vrijednost)</th>
                                    <th style="width:50px">Jedinica</th>
                                    <th style="width:50px">Ikona</th>
                                    <th style="width:50px">Fa icon</th>
                                    <th style="width:200px">Grupe proizvoda</th>
                                    <th style="width:20px">Tip</th>
                                    <th style="width:30px">Redosljed</th>
                                </tr>
                                <tr ng-repeat="x in d.records track by $index">
                                    <td><button class="btn btn-outline-danger" ng-click="f.remove(d.records, $index)"><i class="fa fa-trash"></i></button></td>
                                    <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.val" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.unit" type="text" class="form-control" /></td>
                                    <td>
                                        <div class="input-group">
                                            <input ng-model="x.icon" type="text" class="form-control" />
                                            <div class="input-group-append">
                                                <span class="input-group-text"><img src="./assets/img/icon/{{x.icon}}" style="width:20px" /></span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div class="input-group">
                                            <input ng-model="x.faicon" type="text" class="form-control" />
                                            <div class="input-group-append">
                                                <span class="input-group-text"><i class="fa fa-{{x.faicon}}"></i></span>
                                            </div>
                                        </div>
                                    </td>
                                    <td>
                                        <div ng-repeat="y in x.productgroups" class="form-inline">
                                            <button class="btn btn-outline-danger" ng-click="f.remove(x.productgroups, $index)"><i class="fa fa-trash"></i></button>
                                            <select ng-model="y.code" class="form-control">
                                                <option value="{{pg.code}}" ng-repeat="pg in d.productGroups">{{pg.title}}</option>
                                            </select>
                                        </div>
                                        <div>
                                            <button class="btn btn-outline-warning" ng-click="f.addProductGroup(x.productgroups)"><i class="fa fa-plus"></i></button>
                                        </div>
                                    </td>
                                    <td><input ng-model="x.type" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.order" type="number" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><button class="btn btn-outline-warning" ng-click="f.add(d.records)"><i class="fa fa-plus"></i></button></td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <button ng-click="f.save(d.records)" type="submit" class="btn btn-outline-primary m-3"><i class="fa fa-plus"></i> Spremi</button>
                        </div>
                    </form>
                </div>
            </div>
            <json-directive data="d" debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="colors">
        <div ng-if="d.isLogin" ng-controller="colorsCtrl">
            <loading-directive loadingtitle="'Učitavanje...'" value="d.loading" size="5"></loading-directive>
            <div class="card shadow m-3">
                <div class="card-header">
                    <h2>Boje</h2>
                </div>
                <div class="card-body">
                    <form>
                        <div class="table-responsive">
                            <table class="table table-condensed">
                                <tr>
                                    <th style="width:30px"></th>
                                    <th style="width:200px">Kod</th>
                                    <th style="min-width:200px">Naziv</th>
                                    <th style="min-width:200px">Hex</th>
                                    <th style="min-width:100px">Slika</th>
                                </tr>
                                <tr ng-repeat="x in d.records track by $index">
                                    <td><button class="btn btn-outline-danger" ng-click="f.remove(d.records, $index)"><i class="fa fa-trash"></i></button></td>
                                    <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                    <td>
                                        <div class="form-inline">
                                            <input ng-model="x.hex" type="text" class="form-control" style="width:100px" />
                                            <div style="background-color:{{x.hex}}; width:50px; height:38px; border:1px solid gray; display:inline-block" class="ml-2 mr-2"></div>
                                        </div>
                                    
                                    </td>
                                    <td><input ng-model="x.img" type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><button class="btn btn-outline-warning" ng-click="f.add()"><i class="fa fa-plus"></i></button></td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <button ng-click="f.save(d.records)" type="submit" class="btn btn-outline-primary m-3"><i class="fa fa-plus"></i> Spremi</button>
                        </div>
                    </form>
                </div>
            </div>
            <json-directive data="d" debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="products">
        <div ng-if="d.isLogin" ng-controller="productsCtrl">
            <div class="text-right p-3">
                <button ng-disabled="d.adminType==='admin'" class="btn btn-outline-warning" ng-click="f.importProductsCsv()">IMPORT CSV</button>
            </div>
            <div class="ml-3">
                <h2>Proizvodi</h2>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="dropdown">
                            <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                                Grupa proizvoda: <span ng-if="d.currProductGroup===null">Sve grupe</span><span ng-if="d.currProductGroup!==null">{{d.currProductGroup.title}}</span>
                                <i class="fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                            </button>
                            <ul class="dropdown-menu p-2">
                                <li><a href="" ng-click="f.load(null, null)"><strong>Sve grupe</strong></a></li>
                                <li ng-repeat="x in d.productGroups">
                                    <a href="" ng-click="f.load(x, null)"><strong>{{x.title}}</strong></a>
                                    <ul>
                                        <li ng-repeat="y in x.subGroups track by $index"><a href="" ng-click="f.load(y, null)"><em class="pl-2">{{y.title}}</em></a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <form>
                            <div class="input-group mb-3">
                                <input ng-model="d.search" type="text" class="form-control" placeholder="Pretraži..." aria-label="Recipient's username" aria-describedby="search">
                                <div class="input-group-append" ng-click="f.load(null, d.search)">
                                    <button class="input-group-text" type="submit" id="search"><i class="fa fa-search"></i></button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col-sm-4">
                        <em>Vrijeme učitavanja: {{d.responseTime}} s</em>
                    </div>
                </div>
            </div>
            <!--<loading-directive loadingtitle="'Učitavanje...'" value="d.loading" size="5"></loading-directive>-->
            <div ng-if="d.records.length>0&&!d.loading" ng-repeat="x in d.records track by $index" class="card shadow m-3">
                <div class="card-header" data-toggle="collapse" data-target="#p_{{$index}}" ng-click="f.get(x.sku, $index)">
                    <div ng-if="x!==null" class="mt-2">
                        <img ng-if="x.img" class="img-thumbnail" src="../upload/{{x.id}}/gallery/{{x.img}}" alt="{{x.title}}" style="height:80px">
                        <span class="ml-2"><strong>SKU: {{x.sku}}; Model: {{x.style}}</strong><label class="ml-2">{{x.title}}</label></span><br />
                    </div>
                    <div ng-if="x.id===null">
                        Uredi proizvod
                    </div>
                    <span class="float-right">
                        Detalji <i class="fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                    </span>
                </div>
                <div id="p_{{$index}}" class="card-body collapse">
                    <div class="row">
                        <div class="col-lg-6">
                            <div>
                                <div class="dropdown pt-20 pb-0 mb-3">
                                    <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                                        Grupa proizvoda: <span class="ml-2"><span>{{x.productGroup.parent.title}} / </span>{{x.productGroup.title}}</span>
                                        <i class="fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                                    </button>
                                    <ul class="dropdown-menu p-2">
                                        <li ng-repeat="pg in d.productGroups" >
                                            <a href=""><strong>{{pg.title}}</strong></a>
                                            <ul>
                                                <li ng-repeat="sg in pg.subGroups track by $index"><a href="" ng-click="f.setProductGroup(x, pg, sg)"><em class="pl-2">{{sg.title}}</em></a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="form-group">
                                    <label>Brand (proizvođač):</label>
                                    <select ng-model="x.brand.code" class="form-control">
                                        <option ng-repeat="b in d.brands track by $index" value="{{b.code}}">{{b.title}}</option>
                                    </select>
                                </div>
                                <div class="row">
                                    <div class="col-sm-4 form-group">
                                        <label>SKU:</label>
                                        <input ng-model="x.sku" type="text" class="form-control" maxlength="200">
                                    </div>
                                    <div class="col-sm-4 form-group">
                                        <label>Model:</label>
                                        <input ng-model="x.style" type="text" class="form-control" maxlength="200">
                                    </div>
                                    <div class="col-sm-4">
                                        <input id="isactive_{{$index}}" type="checkbox" ng-model="x.isactive" title="Aktivan" class="m-2" /> <label for="isactive_{{$index}}">Aktivan</label>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Naziv:</label>
                                    <input ng-model="x.title" type="text" class="form-control" maxlength="200">
                                    <tran-btn ng-click="f.openTranPopup(x, 'productTitle')"></tran-btn>
                                </div>
                                <div class="form-group">
                                    <label>Kratki opis:</label>
                                    <input ng-model="x.shortdesc" type="text" class="form-control" maxlength="200">
                                    <tran-btn ng-click="f.openTranPopup(x, 'productShortDesc')"></tran-btn>
                                </div>
                                <div class="form-group">
                                    <label>Dugi opis:</label>
                                    <textarea ng-model="x.longdesc" rows="6" class="form-control" maxlength="4000"></textarea>
                                    <tran-btn ng-click="f.openTranPopup(x, 'productLongDesc')"></tran-btn>
                                </div>
                                <div class="form-group">
                                    <label>Redosljed:</label>
                                    <input ng-model="x.productorder" type="number" class="form-control" style="width:100px">
                                </div>
                                <div class="row">
                                    <div class="col-sm-3 form-group">
                                        <label>Cijena (Bruto):</label>
                                        <input ng-model="x.price.gross" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-3 form-group">
                                        <label>Popust (%):</label>
                                        <input ng-model="x.discount.perc" type="number" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-3 form-group">
                                        <label>Od:</label>
                                        <input ng-model="x.discount.from" type="date" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-3 form-group">
                                        <label>Do:</label>
                                        <input ng-model="x.discount.to" type="date" class="form-control" allow-only-numbers>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6 form-group">
                                        <label>Zaliha (komada):</label>
                                        <input ng-model="x.stock" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-6 form-group">
                                        <label>Rok isporke (dana):</label>
                                        <input ng-model="x.deliverydays" type="text" class="form-control" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <input id="isnew_{{$index}}" type="checkbox" ng-model="x.isnew" title="Novi proizvod" class="m-2" /> <label for="isnew_{{$index}}">Novi proizvod</label>
                                    <input id="outlet_{{$index}}" type="checkbox" ng-model="x.outlet" title="Akcija" class="m-2" /> <label for="outlet_{{$index}}">Akcija</label>
                                    <input id="bestselling_{{$index}}" type="checkbox" ng-model="x.bestselling" title="Najprodavaniji" class="m-2" /> <label for="bestselling_{{$index}}">Najprodavaniji</label>
                                </div>
                                <div class="form-group">
                                    <input id="freeshipping_{{$index}}" type="checkbox" ng-model="x.freeshipping" title="Besplatna dostave" class="m-2" /> <label for="freeshipping_{{$index}}">Besplatna dostava</label>
                                    <input id="bestbuy_{{$index}}" type="checkbox" ng-model="x.bestbuy" title="Best buy" class="m-2" /> <label for="bestbuy_{{$index}}">Best Buy</label>
                                    <input id="opportunity_{{$index}}" type="checkbox" ng-model="x.opportunity" title="Ne propustite priliku" class="m-2" /> <label for="opportunity_{{$index}}">Ne propustite priliku</label>
                                </div>

                                <label class="text-success">Značajke:</label>
                                <hr class="mt-0" />
                                <div class="row">
                                    <div class="col-sm-4 form-group">
                                        <label>Širina (cm):</label>
                                        <input ng-model="x.dimension.width" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-4 form-group">
                                        <label>Visina (cm):</label>
                                        <input ng-model="x.dimension.height" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                    <div class="col-sm-4 form-group">
                                        <label>Dubina (cm):</label>
                                        <input ng-model="x.dimension.depth" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6 form-group">
                                        <label>Boja:</label><span style="background-color:{{x.color.hex}}; border:1px solid gray" class="ml-2 pl-2 pr-2"></span><span class="ml-2">{{x.color.title}}</span>
                                        <select ng-model="x.color" ng-options="y.title for y in x.colors" class="form-control"></select>
                                    </div>
                                    <div class="col-sm-6">
                                        <input id="wifi_{{$index}}" type="checkbox" ng-model="x.wifi" title="wi-fi" class="m-2" /> <label for="wifi_{{$index}}">WI-FI</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6 form-group">
                                        <label>Snaga (W):</label>
                                        <input ng-model="x.power" type="text" class="form-control" allow-only-numbers>
                                    </div>
                                    <div>
                                        <label>Energetski razred:</label>
                                        <input ng-model="x.energyClass" type="text" class="form-control">
                                    </div>
                                </div>
                                <!--<div>
                                    <label>Informacijski list (TODO):</label>
                                    <input ng-model="x.dataSheet" type="text" class="form-control">
                                </div>-->
                                <label class="text-success">Dodatne značajke:</label>
                                <hr class="mt-0" />
                                <div class="row">
                                    <div class="col-sm-4 form-group" ng-repeat="y in x.features">
                                        <label>{{y.title | translate}}<em ng-if="y.unit"> ({{y.unit}})</em>:</label>
                                        <input ng-model="y.val" type="text" class="form-control" maxlength="200">
                                    </div>
                                </div>
                                <label class="text-success">Ključne značajke:</label>
                                <hr class="mt-0" />
                                <div class="table-responsive">
                                    <table class="table table-borderless">
                                        <tr>
                                            <th style="width:50px"></th>
                                            <th>Značajke</th>
                                        </tr>
                                        <tr ng-repeat="y in x.keyFeatures">
                                            <td><button class="btn btn-outline-danger" ng-click="f.removeKeyFeatures(x.keyFeatures, $index)"><i class="fa fa-trash"></i></button></td>
                                            <td>
                                                <input ng-model="y.title" class="form-control" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <button class="btn btn-warning" ng-click="f.addKeyFeatures(x.keyFeatures)"><i class="fa fa-plus"></i></button>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                                <label class="text-success">Ložište:</label>
                                <hr class="mt-0" />
                                <div class="table-responsive">
                                    <select ng-model="x.fireboxInsert" class="form-control">
                                        <option value="{{i.title}}" ng-repeat="i in d.fireboxInserts">{{i.title}}</option>
                                    </select>
                                </div>
                                <div class="mt-2">
                                    <label class="text-success">Vezani proizvodi:</label>
                                    <hr class="mt-0" />
                                    <div class="table-responsive">
                                        <table class="table table-borderless">
                                            <tr>
                                                <th style="width:50px"></th>
                                                <th>SKU - Naziv</th>
                                            </tr>
                                            <tr ng-repeat="y in x.relatedProducts">
                                                <td><button class="btn btn-outline-danger" ng-click="f.removeRelated(x.relatedProducts, $index)"><i class="fa fa-trash"></i></button></td>
                                                <td>
                                                    <select ng-model="y.sku" class="form-control">
                                                        <option value="{{a.sku}}" ng-repeat="a in d.accessories.data">{{a.sku}} - {{a.title}}</option>
                                                    </select>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="2">
                                                    <button class="btn btn-warning" ng-click="f.addRelated(x)"><i class="fa fa-plus"></i></button>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <button ng-disabled="x.id==null" ng-click="f.remove(x)" class="btn btn-outline-danger pull-right"><i class="fa fa-trash-alt"></i> Briši</button>
                                    <button ng-click="f.save(x, $index)" type="submit" class="btn btn-outline-success"><i class="fa fa-save"></i> Spremi</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div ng-if="x.id">
                                <div>
                                    <label>Galerija:</label>
                                    <form id="formUpload_{{x.id}}" ng-submit="f.upload(x, $index)" enctype="multipart/form-data" method="post">
                                        <input id="imgId" name="imgId" ng-model="x.id" type="text" hidden="hidden">
                                        <div class="row">
                                            <div class="col-sm-8">
                                                <input ng-model="file" name="UploadedFile" id="UploadedFile" type="file" accept="image/*" class="form-control">
                                            </div>
                                            <div class="col-sm-4">
                                                <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                                            </div>
                                        </div>
                                    </form>
                                    <div style="max-height:1000px; overflow-x:hidden;">
                                        <div ng-if="x.img" class="mt-2">
                                            <img class="img-thumbnail" src="../upload/{{x.id}}/gallery/{{x.img}}" alt="{{x.title}}" style="max-height:500px">
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-4" ng-repeat="y in x.gallery track by $index">
                                                <div class="card shadow mt-2">
                                                    <img class="card-img-top" src="../upload/{{x.id}}/gallery/{{y}}" alt="{{x.title}}">
                                                    <div class="card-body">
                                                        <div>
                                                            <input id="{{y}}_{{x.id}}" type="radio" name="mainimg_{{x.id}}" ng-click="f.setMainImg(x, y)" value="{{y}}" title="Postavi kao glavnu sliku" /> <label for="{{y}}_{{x.id}}" title="Postavi kao glavnu sliku">Glavna</label>
                                                            <div class="float-right">
                                                                <button ng-click="f.deleteImg(x, y)" class="btn btn-outline-danger btn-circle" title="Briši"><i class="fa fa-trash-alt"></i></button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="pt-3">
                                    <hr />
                                    <label>Tehnička dokumentacija:</label>
                                    <div ng-if="ds" class="card shadow m-3" ng-repeat="ds in x.dataSheet">
                                        <div class="card-body">
                                            <a href="../upload/{{x.id}}/{{dataSheetFolder}}/{{ds}}" title="{{ds}}">{{ds}}</a>
                                            <div class="float-right">
                                                <button ng-click="f.deleteDataSheet(x, ds, $index)" class="btn btn-outline-danger btn-circle" title="Briši"><i class="fa fa-trash-alt"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                    <form id="formUploadDataSheet_{{x.id}}" ng-submit="f.uploadDataSheet(x, $index)" enctype="multipart/form-data" method="post">
                                        <input id="imgFolder" name="imgFolder" ng-model="d.dataSheetFolder" type="text" hidden="hidden">
                                        <input id="imgId" name="imgId" ng-model="x.id" type="text" hidden="hidden">
                                        <div class="row">
                                            <div class="col-sm-8">
                                                <input ng-model="dataSheetFile" name="UploadedFile" id="UploadedFile" type="file" accept="*" class="form-control">
                                            </div>
                                            <div class="col-sm-4">
                                                <button type="submit" class="btn btn-primary text-capitalize"><i class="fa fa-upload"></i> Upload</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <json-directive data="x" debug="config.debug"></json-directive>
                </div>
            </div>
            <div class="m-3">
                <button ng-click="f.newProduct()" class="btn btn-outline-primary"><i class="fa fa-plus"></i> Novi proizvod</button>
            </div>
            <json-directive data="d" desc="'d'"  debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="reviews">
        <div ng-if="d.isLogin" ng-controller="reviewsCtrl">
            <div class="ml-3">
                <h2>Recenzije</h2>
                <div>Ukupno recenzija: {{d.records.count}}</div>
                <div>Prosječna ocjena: {{d.records.rating}}</div>
                <div class="table-responsive">
                    <table class="table">
                        <tr>
                            <th>SKU</th>
                            <th>Ime</th>
                            <th>Email</th>
                            <th>Recenzija</th>
                            <th>Ocjena</th>
                            <th>Datum</th>
                            <th>Aktivan</th>
                            <th>Lang</th>
                            <th></th>
                        </tr>
                        <tr ng-repeat="x in d.records.data">
                            <td>{{x.sku}}</td>
                            <td>{{x.name}}</td>
                            <td>{{x.email}}</td>
                            <td>{{x.desc}}</td>
                            <td>{{x.rating}}</td>
                            <td class="text-nowrap">{{x.reviewdate}}</td>
                            <td><input ng-model="x.isactive" type="checkbox" ng-change="f.save(x)" /></td>
                            <td>{{x.lang}}</td>
                            <td><button class="btn btn-danger" ng-click="f.remove(x)"><i class="fa fa-trash"></i></button></td>
                        </tr>
                    </table>
                </div>
            </div>
            <json-directive data="d" desc="'d'"  debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="orders">
        <div ng-controller="ordersCtrl">
            <div class="ml-3">
                <h2>Narudžbe</h2>
                <div class="table-responsive">
                    <!--<table class="table table-condensed">
                        <tr>
                            <th></th>
                            <th>Id</th>
                            <th>Proizvodi</th>
                            <th>Cijena Ukupno</th>
                        </tr>
                        <tr ng-repeat="x in d.records">
                            <td><button ng-click="get(x.id, $index)" class="btn btn-primary"><i class="fa fa-info"></i></button></td>
                            <td>{{x.id}}</td>
                            <td>
                                <ul>
                                    <li ng-repeat="y in x.cart.items">SKU: {{y.product.sku}} ({{y.product.qty}} kom.)</li>
                                </ul>
                            </td>
                            <td>{{x.cart.cartPrice.totalPrice | number}}</td>
                        </tr>
                    </table>-->

                    <div ng-if="d.records.length>0&&!d.loading" ng-repeat="x in d.records track by $index" class="card shadow m-3">
                        <div class="card-header" data-toggle="collapse" data-target="#o_{{$index}}" ng-click="f.getUser(x.user.id, $index)">
                            <div class="mt-2">
                                <span class="ml-2"><strong>{{x.id}}</strong></span>
                                <div>
                                    Datum narudžbe: {{x.orderDate}}
                                </div>
                            </div>
                            <span class="float-right">
                                Detalji <i class="fa fa-angle-down" style="color:#808080" aria-hidden="true"></i>
                            </span>
                        </div>
                        <div id="o_{{$index}}" class="card-body collapse">
                            <div>
                                <label>Proizvodi:</label>
                                <div class="table-responsive">
                                    <table class="table table-condensed">
                                        <tr>
                                            <th></th>
                                            <th>Opis</th>
                                            <th>SKU</th>
                                            <th>Količina</th>
                                            <th>Cijena (bruto)</th>
                                            <th>Ukupno (bruto)</th>
                                        </tr>
                                        <tr ng-repeat="y in x.cart.items track by $index">
                                            <td>
                                                <a href=""><img src="../upload/{{y.product.id}}/gallery/{{y.product.gallery[0]}}" alt="{{y.product.title}}"></a>
                                            </td>
                                            <td>
                                                <h3><a href="">{{y.product.shortdesc}}</a></h3>
                                                <p><strong>{{y.product.title}}</strong></p>
                                                <!--<em ng-click="get(x.product)">{{'more info is here' | translate}}</em>-->
                                            </td>
                                            <td>{{y.product.sku}}</td>
                                            <td>{{y.product.qty}}</td>
                                            <td><strong>{{y.product.price.gross | number}} <span>kn</span></strong></td>
                                            <td><strong>{{y.price.grossWithDiscount | number}} <span>kn</span></strong></td>
                                        </tr>
                                    </table>
                                </div>
                                <div>
                                    <!--<div>
                                        <em>Ukupno (netto):</em>
                                        <strong>{{x.cart.cartPrice.net | number}} <span>kn</span></strong>
                                    </div>-->
                                    <div>
                                        <em>Cijena dostave:</em>
                                        <strong>{{x.cart.cartPrice.delivery | number}} <span>kn</span></strong>
                                    </div>
                                    <div>
                                        <em>PDV (25%):</em>
                                        <strong>{{x.cart.cartPrice.vat | number}} <span>kn</span></strong>
                                    </div>
                                    <div>
                                        <em>Ukupno:</em>
                                        <strong>{{x.cart.cartPrice.total | number}} <span>kn</span></strong>
                                    </div>
                                </div>
                            </div>
                            <div class="row pt-3">
                                <div class="col-md-4">
                                    <label>Podaci o naručitelju:</label>
                                    <ul>
                                        <li>{{x.user.billingDetails.firstName}} {{x.user.billingDetails.lastName}}</li>
                                        <li>{{x.user.billingDetails.company}}</li>
                                        <li>{{x.user.billingDetails.address}}</li>
                                        <li>{{x.user.billingDetails.postalCode}} {{x.user.billingDetails.city}} - {{x.user.billingDetails.country.code}}</li>
                                    </ul>
                                    <hr />
                                    <ul>
                                        <li>OIB: {{x.user.pin}}</li>
                                        <li>Telefon: {{x.user.billingDetails.phone}}</li>
                                        <li>Email: {{x.user.billingDetails.email}}</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <label>Adresa za dostavu:</label>
                                    <ul>
                                        <li>{{x.user.deliveryDetails.firstName}} {{x.user.deliveryDetails.lastName}}</li>
                                        <li>{{x.user.deliveryDetails.company}}</li>
                                        <li>{{x.user.deliveryDetails.address}}</li>
                                        <li>{{x.user.deliveryDetails.postalCode}} {{x.user.deliveryDetails.city}} - {{x.user.deliveryDetails.country.code}}</li>
                                    </ul>
                                    <hr />
                                    <ul>
                                        <li>Telefon: {{x.user.deliveryDetails.phone}}</li>
                                        <li>Email: {{x.user.deliveryDetails.email}}</li>
                                    </ul>
                                </div>
                            </div>
                            <div>
                                <hr />
                                <div>Metoda dostave: <strong>{{x.deliveryMethod.title}}</strong></div>
                                <div>Metoda plaćanja: <strong>{{x.paymentMethod.title}}</strong></div>
                                <div>Napomena: {{x.note}}</div>
                                <div class="mt-3">Status narudžbe: <strong>{{x.status.title}}</strong></div>
                            </div>
                            <json-directive data="x" debug="config.debug"></json-directive>
                        </div>
                    </div>
                </div>
            </div>
            <json-directive data="d" desc="'d'" debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="countries">
        <div ng-controller="countriesCtrl">
            <div class="ml-3">
                <h2>Države</h2>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="table-responsive">
                            <table class="table table-condensed">
                                <tr>
                                    <th></th>
                                    <th>Kod</th>
                                    <th>Država</th>
                                </tr>
                                <tr ng-repeat="x in d">
                                    <td style="width:30px"><button class="btn btn-default" ng-click="remove(d, $index)"><i class="fa fa-trash-alt text-danger"></i></button></td>
                                    <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                    <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                </tr>
                                <tr>
                                    <td><button class="btn btn-warning" ng-click="add(d)"><i class="fa fa-plus"></i></button></td>
                                </tr>
                            </table>
                        </div>
                        <button class="btn btn-primary pull-right" ng-click="save(d)"><i class="fa fa-floppy-o"></i> Spremi</button>
                    </div>
                </div>
            </div>
            
            <json-directive data="d" desc="'d'" debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="orderoptions">
        <div ng-controller="orderOptionsCtrl">
            <div class="ml-3">
                <h2>Opcije narudžbe</h2>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-inline">
                            <label class="pr-2">Cijena dostave (kn):</label>
                            <input ng-model="d.deliveryprice" class="form-control" />
                        </div>
                        <div>
                            <label>Metode dostave</label>
                            <div class="table-responsive">
                                <table class="table table-condensed">
                                    <tr>
                                        <th></th>
                                        <th>Kod</th>
                                        <th>Opcija</th>
                                    </tr>
                                    <tr ng-repeat="x in d.deliverymethod">
                                        <td style="width:30px"><button class="btn btn-default" ng-click="remove(d.deliverymethod, $index)"><i class="fa fa-trash-alt text-danger"></i></button></td>
                                        <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                        <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                    </tr>
                                    <tr>
                                        <td><button class="btn btn-warning" ng-click="add(d.paymentmethod)"><i class="fa fa-plus"></i></button></td>
                                    </tr>
                                </table>
                            </div>
                            <label>Metode plaćanja</label>
                            <div class="table-responsive">
                                <table class="table table-condensed">
                                    <tr>
                                        <th></th>
                                        <th>Kod</th>
                                        <th>Opcija</th>
                                    </tr>
                                    <tr ng-repeat="x in d.paymentmethod">
                                        <td style="width:30px"><button class="btn btn-default" ng-click="remove(d.paymentmethod, $index)"><i class="fa fa-trash-alt text-danger"></i></button></td>
                                        <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                        <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                    </tr>
                                    <tr>
                                        <td><button class="btn btn-warning" ng-click="add(d.paymentmethod)"><i class="fa fa-plus"></i></button></td>
                                    </tr>
                                </table>
                            </div>
                            <label>Status narudžbe</label>
                            <div class="table-responsive">
                                <table class="table table-condensed">
                                    <tr>
                                        <th></th>
                                        <th>Kod</th>
                                        <th>Opcija</th>
                                    </tr>
                                    <tr ng-repeat="x in d.status">
                                        <td style="width:30px"><button class="btn btn-default" ng-click="remove(d.status, $index)"><i class="fa fa-trash-alt text-danger"></i></button></td>
                                        <td><input ng-model="x.code" type="text" class="form-control" /></td>
                                        <td><input ng-model="x.title" type="text" class="form-control" /></td>
                                    </tr>
                                    <tr>
                                        <td><button class="btn btn-warning" ng-click="add(d.status)"><i class="fa fa-plus"></i></button></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="text-right">
                            <button class="btn btn-primary pull-right" ng-click="save(d)"><i class="fa fa-floppy-o"></i> Spremi</button>
                        </div>
                    </div>
                </div>
            </div>
            <json-directive data="d" desc="'d'" debug="config.debug"></json-directive>
        </div>
    </script>

    <script type="text/ng-template" id="subscribers">
        <div ng-if="d.isLogin" ng-controller="subscribersCtrl">
            <div class="ml-3">
                <h2>Pretplatnici</h2>
                <div class="table-responsive">
                    <table class="table">
                        <tr>
                            <th>br.</th>
                            <th>Email</th>
                            <th></th>
                        </tr>
                        <tr ng-repeat="x in d.records">
                            <td>{{$index}}</td>
                            <td>{{x.email}}</td>
                            <td><button class="btn btn-danger" ng-click="f.remove(x)"><i class="fa fa-trash"></i></button></td>
                        </tr>
                    </table>
                </div>
            </div>
            <json-directive data="d" desc="'d'" debug="config.debug"></json-directive>
        </div>
    </script>

    <script src="./assets/js/admin.js"></script>

</body>
</html>
